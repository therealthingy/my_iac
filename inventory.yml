---
# !!  KEEP IN MIND: Must match Hosts in `~/.ssh/config` (auth details will be taken from this file)  !!
all:
  children:
  # --  "System specific"  --
    clients_devel:
      hosts:
        local_mac:
          ansible_connection: local
          ansible_host: 127.0.0.1
          ansible_user: gary          # TODO: should be 'gg'

          sshd_disabled: true
          git_config:
            name: !vault |
                    $ANSIBLE_VAULT;1.1;AES256
                    30316235386363663339616261636636356263356131333965636465303630333536333161383333
                    3363646361616333613236383735653931626265356535300a626337346637303336393062356530
                    62623264396136383436343933366634363566303333306635313235353337343165383862633763
                    6639306231653062340a366564666233303132643134643065313330353863323735633235393861
                    6534
            email: !vault |
                    $ANSIBLE_VAULT;1.1;AES256
                    33303165656264336537376238346663396664343136626561326630626533346431313836363966
                    3531393439366135396662303237386562313231633436330a363339306539356461653238353534
                    31396630326461336138386434343535663932323839373030653139306136636563303234346662
                    6261343138653733350a333136626364613734333637373866396436633630396237393164336262
                    30333466326132643138353338633439646262383561653535613934333330306436
            smtp_server: !vault |
                    $ANSIBLE_VAULT;1.1;AES256
                    61646139346333366264666164383337623133343132373633646233393633636161656466393539
                    6662333733316335643436343838373836636162396465320a613162326335656337616433636337
                    34666433366537393432366539326565306435383664663861653237633239343934396466356461
                    3638366539616662660a663165393636666337303335633663613830623034626563633938626231
                    3966
            smtp_port: 587
            smtp_encryption: tls

    clients_media:
      hosts:

    clients_workstation:
      hosts:
        local_mac:
          hblock:
            allow:
              - exe.io
              - wl.spotify.com
            block:
              - superimad.com
            overwrite:
              - host_ips: [10.38.170.1]
                domains: ['fritz.box']
              - host_ips:
                  - 10.38.170.2
#                  - fd4b:49fb:a80c:29ba:40b3:8c93:9122:52c7
                domains:
                  - 'l0-rpi0'
                  - 'l0-rpi0-pre'


  # -  "Headless" systems  -
    servers:
      hosts:
        l0-rpi0:
          swap:
            swappiness: 60

    servers_devel:
      hosts:

    servers_home:
      hosts:
        l0-rpi0:
#          timezone: Europe/Berlin
          domainname: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              63346535663639633966633839663262353366643263393930346630396131653036326463323838
              6535653033623738303963353135616331363239303464390a616236653565313932363834616434
              62373235623036346433656237643036616334616532616534396132303566663131396361373936
              3865313864623239310a613331396235643938656333336637356163613165656665653231336632
              3065
          cert_acme:
            provider: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                62373034666330663539633566383461313930336335386130396164333966643534653035343561
                6230376666313635333031303463653064356165386333360a333632616532393962626531376361
                30656638383832346266386466643535363430373964303138653266356536366261303134383136
                6631326131323535320a383431333563616439623133616530323964626435393462323930343263
                3935
            email: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                34646565346666363931306365623666636266663938383461656361386633316230353535353664
                3432373136373961313031346332386434373466356136630a616562323961626133666437336331
                62386465393033623263333233393766353133623262326666386639613935663934636565363465
                6363316130626330330a646162376361633862376139303434316462656233356130656561643931
                36396333356437663066306262396237396433633562336462376131343661653164
            user: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                66366332373963646638643939616262643837643363323562636134303065643563623430303762
                3336393034663130653361393765313930313933643563330a373261353932666262336539336637
                39393033623861623337383733353133363965393336626237663637346536313766663662656433
                6265363363663239310a663131613132313231376261333366363132306263326662366235653563
                6638
            token: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                64663638303561636432633834306563303861633965366464666334316332373132383539386563
                3965326633363939633832363430313865343363366133330a323764363066636264303736333738
                39346465333161373533346635623664656132616161303630646662326261313962353136393466
                3062316164626330610a323832343737343538616432356562383363363739353363313665616462
                63393066663633386334333133636534663166623163633436393837633361393036326132306434
                6132373161333436303764303637623161663037323839643633
          hostname: l0-rpi0

          pif:
            if_name: eth0
            if_match_mac: !vault |
                         $ANSIBLE_VAULT;1.1;AES256
                         39396336373335636638366631373462373766353164383032666463316136353530363765623661
                         3135626332353132663433313236653738663761303931300a333562643063326264666162643333
                         62663765646234303834323464646363663065363339363334316438316633376162353865333833
                         3663623161633863640a636665613437373830653339353932623435343665626665663465376531
                         34343533356234663830313037643330323032396430306132333939653537353562
            ipv6_ula: fd4b:49fb:a80c:29ba:40b3:8c93:9122:52c7/64      # $$$$$$$$$$$$$$$$  TODO: IF-ID MUST overlap atm w/ `vpn.ddns.if_ipv6_id`  $$$$$$$$$$$$$$$$
            ipv4: 10.38.170.2/24
            dns_servers:
            # DNS server 1 (https://www.quad9.net/service/service-addresses-and-features):
              - 9.9.9.10
              - 2620:fe::10
            # DNS server 2:
              - 149.112.112.10
              - 2620:fe::fe:10


          ssh:
            port: 2233
            x11_enabled: 'yes'

          autoupdate_reboot_enabled: false

          notifications_mail:
            smtp_host: !vault |
                      $ANSIBLE_VAULT;1.1;AES256
                      31376539653036636435356232336330636666383564653631633666306530643762646335653063
                      3265306333633434383065353762633663373364366331350a333261653837353366633338333938
                      35666365383739633066353036353433383736663034623535313837383331396538313263306566
                      3839393931626363640a623733333261393033633730356566323635663762313066626538306633
                      6161
            smtp_port: 587
            smtp_auth_type: plain
            smtp_enc: starttls
            smtp_username: !vault |
                      $ANSIBLE_VAULT;1.1;AES256
                      66336133346462343636396632323138643133663235626638303464383332633066396666323636
                      3335373533343830626633323730316138633764363939380a626632643562626561303335393930
                      61303763663332653363393239376430353832353535366335393065306662346262303834613566
                      3835326365653166360a383731303933633537336635386333636434643062346330643935633663
                      63633538326535313534616563303461373566626537333530343933623237313834
            smtp_password: !vault |
                      $ANSIBLE_VAULT;1.1;AES256
                      63383963663864653734363930373030336137313238643863613330393461313034393237333130
                      3134373132393335373636633532353339393437353837650a386138356339663961366366613637
                      32623737323761313433666431623235393562313437303937643730643337376133663735393435
                      3361303130663164390a626566623133363335306533373433643266616134366664656239303138
                      61653161636237393637303362633262663934356131376533616232316238353364
            system_admin_mail: !vault |
                      $ANSIBLE_VAULT;1.1;AES256
                      32323362376666363865383432633636336161363033343735376239653539336539383162353362
                      3336616463373837383764643235376166356631353836660a386361376438306531303833623938
                      38636236316662653233656636346233366431376233663731363966393932366133356164666662
                      3938633264333561300a633762303464643962313839383737356635353134356532646665356538
                      30383835383664633736303534303162353834356562666133343138386339306230

          reverse_proxy_docker_network: reverse_proxy

#          reverse_proxy:
#            ssl_ca_country: DE
#            ssl_ca_state: !vault |
#                      $ANSIBLE_VAULT;1.1;AES256
#                      63303538333436393235316565633635653362303538363631393862626339633235376635616232
#                      3638323633393234656435356665343166306539353864650a336538346131616532616432363836
#                      37643338386534333735366338636435356339623362633231663231373333366237326330346436
#                      6333636339613932620a316664313531383231653533333863623137326435303463386466316333
#                      3232
#            ssl_ca_locality: !vault |
#                      $ANSIBLE_VAULT;1.1;AES256
#                      37656562343934326164326339666633313165303330303465393138393835396236303234336565
#                      3431356538316232643831393935356139643335306536660a383035656530643265653262323864
#                      36643432653039366264633165323938623737316138336330306462613833306462393932366331
#                      3131653632313230340a323262643163306131626339313938353963393539316239383463656539
#                      6261
#            ssl_ca_orga: !vault |
#                      $ANSIBLE_VAULT;1.1;AES256
#                      38366335323933336365366638653262363337336233646531363131343066393666353831363539
#                      3262353932373136303861303538376339343964626364380a303765363361343464333131306535
#                      35393465303730613462613038303434333764656134326235326437353963646237376530616237
#                      3639663666346337330a653864353264623965366565393337363738363139343634303231633136
#                      3338
#            ssl_ca_mail: !vault |
#                      $ANSIBLE_VAULT;1.1;AES256
#                      30333533336139383635633232393931393663353838343662306433656632663739393231386334
#                      6166376362333761326663643261656630613230333764320a343238366237356235643331396230
#                      66336632316434343361326234643562626165616230313933393530356533363437346165393433
#                      6331343661306436360a663938663231323037623662336365303461333161663165303836353335
#                      63373339353265646330376336383335646366366134303433386231393737356436

          pihole:
            if: '{{ pif.if_name }}'
            ipv6_ula: '{{ pif.ipv6_ula }}'      # $$$$$$$$$$$$$$$$  TODO: IF-ID MUST overlap atm w/ `vpn.ddns.if_ipv6_id`  $$$$$$$$$$$$$$$$
            ipv4: '{{ pif.ipv4 }}'
            router_reverse_dns_zone: 10.38.170.0/24
            router_ip: 10.38.170.1
            dns_servers: '{{ pif.dns_servers }}'
            router_domain: fritz.box
            web_pw: !vault |
                      $ANSIBLE_VAULT;1.1;AES256
                      37613264306365633561343463656134643339336331383165356462623863343664346661643433
                      3939316430626561316635393262356365323531353937630a383564333566353564623737343837
                      33373132333731633261313633663564636137626561613863653730306233303332303764356535
                      3761396463323237390a653639366561353363636332616232323030326162333965626232313665
                      65646534373261373236353431313633653065323932616533303835653464643264

          dl_services:
            base_dir: '{{docker_container.data_basedir}}/dl_services/'
            restart_policy: 'unless-stopped'
            healthcheck_url: apple.com
            web_ui:
              username: choel
              password: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        30383434616136376135336635613366616261663134653238376235303337333834653764363462
                        3062373034623261333537656238303536646464383437620a666662613066626330333561386132
                        61336439653164313365623630323038363837303463376665353463353435373964383962326166
                        3963363062653538620a313363353531353531356637346233393132643931643833623034333866
                        3965
            gluetun:
              forward_port: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        63333636303466323962643533393139363964656466623537363561306462356630353839626134
                        3866343464313066366132613833346533313361363633620a373266663239663364666565323966
                        61633130336138363834393765313536363265343834333137633863393235626330306664336533
                        6336316237643765660a616665613531383739646634386137663765616131653637623965613537
                        6636
              vpnsp: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        33393666623830303462646631663537396638666164643966306337653437336436646461303664
                        3439653665343038383637623937313432663931333466630a656633343332356162366362363737
                        63616137636139303036313962656366373131356434626365333831336133353238616439346361
                        3362653337373132650a366265656430363965353832313464313438643738666136613330643836
                        6230
              server_country: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        36383933366361666135616565303865643561393332666163366134373634633033323666303462
                        3265643137346439393536333965626561646163636166300a326635613465633831663965383235
                        61306634313765313437393931623434636430653030303533613861646161303237343664333036
                        6264366632323635350a363030656638366262336230303063643232353963393365333135313936
                        3230
                   #!vault |
                   #     $ANSIBLE_VAULT;1.1;AES256
                   #     34633035653037643738623533366361313731303938313930396330663964643934363762633430
                   #     3662333833343466366566363832616135393462393032650a353933313432363136386532386636
                   #     62303731613336366131376132333330666332346235303035363437626633343964343836363238
                   #     3839356131393037340a343038633735626236373933306235383064336566613864306539346139
                   #     3863
              wireguard_vpn_service:
                addresses: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          32346539393665393162646635363132386335346563383636386336626239633966333032633764
                          3230306430336239366230336135346130396332326232390a336432633631373764386533613236
                          61356536656236393234343761336463616633373832306235396137643564363735303638366432
                          6635663431623932640a616533363263306632343361666666356430623537666335323038343430
                          31326132353336343663393635396163313530646232633239666334303337353330306636303464
                          31303130643439326537666238663964373466346262646261376561616562623734636531653863
                          643366633532316365326335353536383463
                pk: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          38656161623961623831346135623730656432623530316532643231383066383335346434666135
                          6165626233666139623364613966313363313534353437640a316634343630663232663566653538
                          36346433616633643639303637366362666432623564393432383463326134666439633638333161
                          3137656535653032610a323235346165653537313534386637323134386462616165373837306564
                          62666661326232393230363837666263633031313764383962376239396530313766663933643437
                          6339643937333837316531366365346662363665323161313134
                sk: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          33303866366666343866333566666339353864613863363862653835643535323762353466336664
                          6166643034353065623563646331343633626365653633300a663633623232323264643932643265
                          61393261353037656130386535306435383637336132356432616366366161333834336539396434
                          3834633537343664330a353061613739306237373936386261306265366639663332356365373137
                          35346465623539313832353933633064343932363230353131333963333861373337326261313139
                          3036306233323765613263353961373732626565353536656438
                preshared_key: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          66663831666539356630333532363664626532346533646134363537656134343537653264306135
                          3366373562663533306666326534313363383763376665310a623962313665353731303632343331
                          31393332346433336663363266363339366131383862653534653436383034393238633161643364
                          6661613835636666660a613738336232343333306663363637396464613335323430666431353234
                          34313566376230306363613332366334353334366263373062666537343530653930393561646266
                          6337316139376432626438323636623765616333663033626135

          vpn:
            endpoint:
              port: 123                                                       # NTP port    (default: 51820)
              domain: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        63346535663639633966633839663262353366643263393930346630396131653036326463323838
                        6535653033623738303963353135616331363239303464390a616236653565313932363834616434
                        62373235623036346433656237643036616334616532616534396132303566663131396361373936
                        3865313864623239310a613331396235643938656333336637356163613165656665653231336632
                        3065
            if: '{{ pif.if_name }}'
            wireguard_mtu: 1380
            internal_networks:                                                # !!  May NOT overlap w/ remote or local network  !!
              - server: 10.196.92.1/24
                dns: '{{ pif.ipv4[:-3] }}'
              - server: fa93:eb85:93cd:56be::1/64
                dns: '{{ pif.ipv6_ula[:-3] }}'
            ddns:
              update_interval_sec: 300
              if_ipv6_id: '::{{ pif.ipv6_ula[20:-3] }}'
              update_url: https://dynv6.com/api/update?hostname={domain}&token={token}&ipv4=&ipv6={ip6addr}
              pass: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        62353937663333333035333466656562356663323462373761383034343337353636353832626263
                        6462653634333764643162306161636530363034613639660a306237303335663931373634396430
                        64646637393334346235653961343662656361356232656233316265333237306137303738306433
                        3830323566616339630a643965613034633734646531373631613961633764643838666232306439
                        64376431656362363239313562616666333162376462346266356534333531356131
              domain: !vault |
                        $ANSIBLE_VAULT;1.1;AES256
                        62373064336339346265306136623833326231336165613762333036326562626562666233643032
                        6135303066346237663630643530666266303930633633370a663033326330343738306462666337
                        38336665386562353435303732366336626338613735326534326465656637633539396365613965
                        3261353564303062370a343562393330623839613430663630613832613763376232363965663730
                        3565
            wireguard_ui:
              log_level: INFO

          samba:
            shares:
              - name: shared
                bind_mounts:
                  - '{{docker_container.data_basedir}}/samba-filebrowser/share/public:/mnt/share/public/'
                path: /mnt/share/public
                browsable: 'yes'
                readonly: 'no'
                guest: 'no'
                users:
                  - 'all'
              - name: private
                bind_mounts:
                  - '{{docker_container.data_basedir}}/samba-filebrowser/share/private:/mnt/share/private/'
                  - '{{ dl_services.base_dir }}/downloads/:/mnt/share/private/storage/downloads/'
                path: /mnt/share/private
                browsable: 'no'
                readonly: 'no'
                guest: 'no'
                users:
                  - 'gg'
            users:
              - name: gg
                pass: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          33663564613033363663346538623237666233326238376361633734633163336133306338663031
                          3930643565623630383833613661393736373036393763370a303461373435393765343634333463
                          32646536616338316331386664363830313635323665613663366132373361613238653863316562
                          6531363636383339390a646638356432653037383238626239326535383566383836333464396132
                          6236
              - name: anonymous
                pass: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          35663061363234613432323835333962303637356432626530666538313831653061663234303963
                          3066313466663636303234353430663932326162633331330a383665356561356536666532316437
                          34313432363861613663336435316630366330626334346634373661356631396235336137303962
                          3135326235313131300a616132356362343531613264306465633133633361656266326634373166
                          6438


  # --  "HW specific"  --
    hw_specific:
      hosts:
        l0-rpi0:
          usb_enclosure:                  # USB NVME SSD enclosure  (FIDECO M.2 NVME -- JMicron Technology Corp.)
            vendor_id: "152d"
            product_id: "0562"
