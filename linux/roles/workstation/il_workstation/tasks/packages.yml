---
- name: Install media tools
  block:
    - name: '[Darwin / Debian/Ubuntu]'
      ansible.builtin.package:
        name:
          - exiftool
          - ffmpeg
          - gifsicle
          - imagemagick
      become: "{{ 'true' if ansible_facts['os_family'] != \"Darwin\" else 'false' }}"
    - name: '[Debian/Ubuntu]'
      ansible.builtin.apt:
        name:
          - celluloid
          - vlc
        state: present
      become: true
      when: ansible_facts.os_family != 'Darwin'

- name: Install yt-dlp
  ansible.builtin.pip:   # NOTE: sudo installs it for ALL users (otherwise only local user)
    name: yt-dlp
    #extra_args: --break-system-packages   # TODO: Workaround 4 now
  become: false
